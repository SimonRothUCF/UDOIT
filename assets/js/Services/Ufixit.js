import AltText from '../Components/Forms/AltText'
import AnchorText from '../Components/Forms/AnchorText'
import ContrastForm from '../Components/Forms/ContrastForm'
import UfixitReviewOnly from '../Components/Forms/UfixitReviewOnly'
import HeadingEmptyForm from '../Components/Forms/HeadingEmptyForm'
import HeadingStyleForm from '../Components/Forms/HeadingStyleForm'
import TableHeaders from '../Components/Forms/TableHeaders'
import Video from '../Components/Forms/Video'
import LinkForm from '../Components/Forms/LinkForm'
import EmphasisForm from '../Components/Forms/EmphasisForm'

const UfixitForms = {
  // phpAlly rules
  AnchorMustContainText: AnchorText,
  AnchorSuspiciousLinkText: AnchorText,
  BrokenLink: LinkForm,
  CssTextHasContrast: ContrastForm,
  CssTextStyleEmphasize: EmphasisForm,
  HeadersHaveText: HeadingEmptyForm,
  ImageAltIsDifferent: AltText,
  ImageAltIsTooLong: AltText,
  ImageAltNotEmptyInAnchor: AltText,
  ImageHasAlt: AltText,
  ImageHasAltDecorative: AltText,
  ParagraphNotUsedAsHeader: HeadingStyleForm,
  RedirectedLink: LinkForm,
  TableDataShouldHaveTableHeader: TableHeaders,
  TableHeaderShouldHaveScope: TableHeaders,
  ImageAltNotPlaceholder: AltText,
  VideoCaptionsMatchCourseLanguage: Video,
  VideosEmbeddedOrLinkedNeedCaptions: Video,
  VideosHaveAutoGeneratedCaptions: Video,

  // Equal Access Rules
  text_contrast_sufficient: ContrastForm,
}

export function returnIssueForm(activeIssue) {
  if (activeIssue) {
    if (UfixitForms.hasOwnProperty(activeIssue.scanRuleId)) {
      if (!activeIssue.sourceHtml.includes("data-type-module")) {
        return UfixitForms[activeIssue.scanRuleId]
      }
    }
  }

  return UfixitReviewOnly
}
